<!DOCTYPE html>
<html lang="en">

<head>
    <title>Checkout | HabariJava!</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
    <!-- font awesome -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round&display=swap" rel="stylesheet" />
    <!-- Css -->
    <link rel="stylesheet" type="text/css" href="css/checkout.css" />

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
</head>

<body>
    <!-- Navbar -->
    
    <nav class="container-fluid navbar sticky-top navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#"><span id="habaribrand">HabariJava!</span></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="shop.html">Shop</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#">Checkout<span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Header -->
    <div class="container bg-dark text-warning">
        <div class="row align-items-center text-center my-5">
            <div class="col">
                <h1>Done Shopping?</h1>
                <p class="text-muted">Review your order, fill in your details and your consignment
                    will soon be on its way!</p>
            </div>
        </div>
    </div>
    <hr width="400px">
    <!-- Billing Form -->
    
    <div class="row">
        <div class="col-75">
            <div class="container">
                <form action="/action_page.php">
                    <div class="row">
                        <div class="col-50">
                            <h3>Billing Address</h3>
                            <label for="fname"><i class="fa fa-user"></i> Full Name</label>
                            <input type="text" id="fname" name="firstname" placeholder="John M. Doe">
                            <label for="email"><i class="fa fa-envelope"></i> Email</label>
                            <input type="text" id="email" name="email" placeholder="john@example.com">
                            <label for="adr"><i class="fa fa-address-card-o"></i> Address</label>
                            <input type="text" id="adr" name="address" placeholder="542 W. 15th Street">
                            <label for="city"><i class="fa fa-institution"></i> City</label>
                            <input type="text" id="city" name="city" placeholder="Algiers">
                            <div class="row">
                                <div class="col-50">
                                    <label for="country">Country</label>
                                    <input type="text" id="country" name="country" placeholder="Algeria">
                                </div>
                                <div class="col-50">
                                    <label for="postal">Postal Code</label>
                                    <input type="text" id="postal" name="postal" placeholder="10001">
                                </div>
                            </div>
                        </div>
                        <div class="col-50">
                            <h3>Payment</h3>
                            <label for="fname">Accepted Cards</label>
                            <div class="icon-container">
                                <i class="fa fa-cc-visa" style="color:navy;"></i>
                                <i class="fa fa-cc-amex" style="color:blue;"></i>
                                <i class="fa fa-cc-mastercard" style="color:red;"></i>
                                <i class="fa fa-cc-discover" style="color:orange;"></i>
                            </div>
                            <label for="cname">Name on Card</label>
                            <input type="text" id="cname" name="cardname" placeholder="John More Doe">
                            <label for="ccnum">Credit card number</label>
                            <input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444">
                            <label for="expmonth">Exp Month</label>
                            <input type="text" id="expmonth" name="expmonth" placeholder="September">
                            <div class="row">
                                <div class="col-50">
                                    <label for="expyear">Exp Year</label>
                                    <input type="text" id="expyear" name="expyear" placeholder="2018">
                                </div>
                                <div class="col-50">
                                    <label for="cvv">CVV</label>
                                    <input type="text" id="cvv" name="cvv" placeholder="352">
                                </div>
                            </div>
                        </div>

                    </div>
                    <label>
                        <input type="checkbox" checked="checked" name="sameadr"> Shipping address same as billing
                    </label>
                    <a href="https://www.logistics.dhl/za-en/home/tracking.html" target="_blank">
                        <i class="fa fa-plane fa-lg"></i>
                        Track Your Shipment With Our International Partner</a><br><br>

                </form>
            </div>
        </div>
        <!--Shopping Cart Display  -->
        <div class="col-25">
            <div class="container">
                <h4>Cart
                    <span class="price" style="color:black">
                        <i class="fa fa-shopping-cart"></i>
                        <b><span class="count-cart">0</span></b>
                    </span>
                </h4>

                <ul id="show-cart">
                    <li>(Data loading)</li>
                </ul>
                <div><b>You have <span class="count-cart">0</span> items in your cart</b></div>
                <div>Sub-total: <b>$<span class="total-cart"></b></span><br><br>
                    <div>Sub-total (incl. VAT): <b>$<span class="vat-total"></b></span></div>

                    <hr>
                    <label><b>Discount Coupon (%)</b></label>
    <select id="discount-list" name="tot_pin_requested" onchange="calculateAmount(this.value)" required>
                        <option value="" disabled selected>Choose your option</option>
                        <option value="0">None</option>
                        <option value="5">5%</option>
                        <option value="10">10%</option>
                        <option value="15">15%</option>
                        <option value="25">25%</option>
                        <option value="35">35%</option>
                    </select><br><br>
                    <div><b>- $<span id="minus-discount"></b></span></div>
                    <hr>
                    <label><b>Delivery Service Charge</b></label>
                    <select id="delivery-cost" name="tot_pin_requested" onchange="addDeliveryCharge(this.value)" required>
                        <option value="" disabled selected>Choose your option</option>
                        <option value="15.00">Regular Post ($15)</option>
                        <option value="20.00">Courier ($20)</option>
                        <option value="30.00">Express Courier ($30)</option>
                    </select><br><br>
                    
                    <div><b>+ $<span id="added-shipping"></b></span></div>
                    <hr>
                    <hr><br>
                    <button type="button" class="clear-cart btn btn-warning">Clear Cart</button>
                    <button onclick="myReferenceCode(); calculateGrandTotal()" type="button" class="btn btn-success" data-toggle="modal"
                        data-target="#exampleModal3">Purchase</button>
                </div>

            </div>
        </div>
    </div>

    <hr width="400px">
    <!-- Footer -->
    <footer class="page-footer">
        <div class="container-fluid">
            <div class="col-lg-4 col-md-4 col-sm-12">
                <h6 class="text-uppercase font-weight-bold">Contact</h6>
                <p>1981 Khaleesi Drive, Hill Valley, Westeros
                    <br /><a href="info@habarijava.com?Subject=HabariJava%20Queries"
                        target="_top">info@habarijava.com</a>
                    <br />+ 01 234 567 00
                    <br />+ 01 234 567 01
                </p>
                <div class="socialicon">
          <a href="#"><i class="fa fa-facebook-square"></i></a>
          <a href="#"><i class="fa fa-twitter-square"></i></a>
          <a href="#"><i class="fa fa-google-plus-square"></i></a>
          <a href="#"><i class="fa fa-linkedin-square"></i></a>
          </div>
            </div>
        </div>
        <div class="footer-copyright text-center">Â© 2021 Copyright: HabariJava.com</div>
    </footer>

    <!-- Confirm Order Display Modal -->

    <div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModal3Label"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModal3Label">Order Confirmation</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div><b>You have <span class="count-cart">0</span> items in your cart</b></div>
                    <div>Total Cart: <b>$<span id="final-total"></b></span></div>
                    <div>Purchase Reference No.: <b>#<span id="reference-number"></b></span></div>
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Confirm Order</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Optional JavaScript -->
    <script src="RoughWork.js"></script>

    <!-- JQuery code -->
    <script>
        // *****************************************
        // Triggers / Events
        // *****************************************

        // Add item
        $(".add-to-cart").click(function (event) {
            event.preventDefault();
            let name = $(this).attr("data-name");
            let price = Number($(this).attr("data-price"));

            shoppingCart.addItemToCart(name, price, 1);
            displayCart();
        });

        // Clear items
        $(".clear-cart").click(function (event) {
            shoppingCart.clearCart();
            displayCart();
        });

        //Displays the cart
        function displayCart() {
            let cartArray = shoppingCart.listCart();
            console.log(cartArray);
            let output = "";

            for (let i in cartArray) {
                output +=
                    "<li>"

                    +
                    cartArray[i].name +
                    " (x" +
                    cartArray[i].count +
                    ")" +
                    "<b>" +
                    " $" +
                    cartArray[i].price +
                    "</b>" +
                    "<br>" +
                    "<hr>"


                    +
                    "</li>";
            }

            $("#show-cart").html(output);
            $(".count-cart").html(shoppingCart.countCart());
            $(".total-cart").html(shoppingCart.totalCart());
            $("#reference-number").html(shoppingCart.generateReferenceNumber());
            
            $(".vat-total").html(shoppingCart.totalCartPlusVat());
            $("#minus-discount").html(shoppingCart.calculateFinalTotal());
            $("#added-shipping").html(shoppingCart.calculateFinalTotal());

            $("#final-total").html(shoppingCart.calculateFinalTotal());

        }


        // Delete item button
        $("#show-cart").on("click", ".delete-item", function (event) {
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCartAll(name);
            displayCart();
        });

        // -1
        $("#show-cart").on("click", ".subtract-item", function (event) {
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCart(name);
            displayCart();
        });

        // +1
        $("#show-cart").on("click", ".plus-item", function (event) {
            var name = $(this).attr("data-name");
            shoppingCart.addItemToCart(name, 0, 1);
            displayCart();
        });

        // Item count input (for input fields)
        $("#show-cart").on("change", ".item-count", function (event) {
            var name = $(this).attr("data-name");
            var count = Number($(this).val());
            shoppingCart.setCountForItem(name, count);
            displayCart();
        });



        displayCart();
    </script>

    <!-- Bootstrap stuff: jQuery in the head, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
    </script>
</body>

</html>